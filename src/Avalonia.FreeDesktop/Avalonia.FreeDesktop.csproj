<Project Sdk="Microsoft.NET.Sdk">

  <PropertyGroup>
    <TargetFrameworks>$(AvsCurrentTargetFramework);$(AvsLegacyTargetFrameworks);netstandard2.0</TargetFrameworks>
    <Nullable>enable</Nullable>
  </PropertyGroup>

  <Import Project="../../build/TrimmingEnable.props" />

  <ItemGroup>
    <Compile Include="../Shared/IsExternalInit.cs" Link="IsExternalInit.cs" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Tmds.DBus.Protocol" Version="0.16.0" />
    <PackageReference Include="Tmds.DBus.SourceGenerator" Version="0.0.15" PrivateAssets="all" />
  </ItemGroup>

  <ItemGroup>
    <ProjectReference Include="../Avalonia.Controls/Avalonia.Controls.csproj" />
    <ProjectReference Include="../Avalonia.Dialogs/Avalonia.Dialogs.csproj" />
  </ItemGroup>

  <ItemGroup Label="InternalsVisibleTo">
    <InternalsVisibleTo Include="Avalonia.X11, PublicKey=$(AvaloniaPublicKey)" />
  </ItemGroup>

  <ItemGroup>
    <AdditionalFiles Include="DBusXml/com.canonical.AppMenu.Registrar.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/com.canonical.dbusmenu.xml" DBusGeneratorMode="Handler" />

    <AdditionalFiles Include="DBusXml/org.fcitx.Fcitx.InputContext.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.fcitx.Fcitx.InputMethod.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.fcitx.Fcitx.InputContext1.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.fcitx.Fcitx.InputMethod1.xml" DBusGeneratorMode="Proxy" />

    <AdditionalFiles Include="DBusXml/org.freedesktop.DBus.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.freedesktop.IBus.Portal.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.freedesktop.portal.FileChooser.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.freedesktop.portal.Request.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.freedesktop.portal.Settings.xml" DBusGeneratorMode="Proxy" />

    <AdditionalFiles Include="DBusXml/org.kde.StatusNotifierWatcher.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.kde.StatusNotifierItem.xml" DBusGeneratorMode="Handler" />

    <!-- AT-SPI2 -->
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Accessible.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Action.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Application.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Cache.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Collection.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Component.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.DeviceEventController.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.DeviceEventListener.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Document.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.EditableText.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Event.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Hyperlink.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Hypertext.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Image.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Registry.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Selection.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Socket.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Table.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.TableCell.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Text.xml" DBusGeneratorMode="Proxy" />
    <AdditionalFiles Include="DBusXml/org.a11y.atspi.Value.xml" DBusGeneratorMode="Proxy" />
  </ItemGroup>

  <ItemGroup>
    <Folder Include="Automation\" />
  </ItemGroup>

</Project>
